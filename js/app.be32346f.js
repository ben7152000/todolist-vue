(function(e){function t(t){for(var o,i,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/todolist-vue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"03be":function(e,t,n){},1270:function(e,t,n){"use strict";n("7924")},"1a92":function(e,t,n){"use strict";n("e98b")},3812:function(e,t,n){"use strict";n("45b1")},"45b1":function(e,t,n){},"50a1":function(e,t,n){"use strict";n("03be")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Navbar",{attrs:{title:"Todo List"}}),e.isShow?n("router-view"):e._e()],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("h1",[e._v(e._s(e.title))])])},s=[],c={name:"Navbar",props:{title:{type:String,required:!0}}},u=c,l=(n("3812"),n("2877")),d=Object(l["a"])(u,i,s,!1,null,"b1a9fca0",null),p=d.exports,m={name:"App",components:{Navbar:p},data:function(){return{isShow:!0}},provide:function(){return{reload:this.reload}},methods:{reload:function(){var e=this;this.isShow=!1,this.$nextTick((function(){e.isShow=!0}))}}},h=m,f=(n("5c0b"),Object(l["a"])(h,r,a,!1,null,null,null)),v=f.exports,g=n("8c4f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("button",{staticClass:"btn",on:{click:e.logout}},[e._v("Logout")]),n("div",{staticClass:"container"},[n("TodoHeader",{on:{addTodo:e.addTodo}}),e.todos.length?n("div",[n("TodoList",{attrs:{todos:e.todos,checkedTodo:e.checkedTodo,updatedTodo:e.updatedTodo,deleteTodo:e.deleteTodo}}),n("TodoFooter",{attrs:{todos:e.todos},on:{checkAllTodo:e.checkAllTodo,clearCompletedTodo:e.clearCompletedTodo}})],1):[n("p",[e._v("Nothing Tasks")])]],2)])},k=[],w=n("1da1"),T=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"todo-header"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"New Task Item"},domProps:{value:e.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},input:function(t){t.target.composing||(e.name=t.target.value)}}})])}),_=[],x=(n("498a"),n("b0c0"),n("3d20")),y=n.n(x),C=y.a.mixin({position:"top-end",showConfirmButton:!1,timer:3e3,heightAuto:!1,toast:!0}),j={name:"TodoHeader",data:function(){return{name:""}},inject:["reload"],methods:{add:function(){var e=this;if(!this.name.trim())return C.fire({text:"Please do something in the input!",icon:"warning"});var t={name:this.name.trim()};this.$emit("addTodo",t),this.name="",setTimeout((function(){e.reload()}),100)}}},O=j,A=(n("1270"),Object(l["a"])(O,T,_,!1,null,"6a7471ec",null)),E=A.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"todo-main"},e._l(e.todos,(function(t){return n("TodoItem",{key:t._id,staticClass:"animate__animated animate__fadeIn",attrs:{todo:t,checkedTodo:e.checkedTodo,updatedTodo:e.updatedTodo,deleteTodo:e.deleteTodo}})})),1)},P=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.todo.isDone},on:{change:function(t){return e.changeHandler(e.todo)}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isEdit,expression:"!isEdit"}],class:{checked:e.todo.isDone}},[e._v(" "+e._s(e.todo.name)+" ")]),n("input",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],ref:"inputTask",staticClass:"edit-input",attrs:{type:"text"},domProps:{value:e.todo.name},on:{blur:function(t){return e.blurHandler(e.todo,t)}}})]),n("div",[n("button",{staticClass:"edit",on:{click:function(t){return e.editHandler(e.todo)}}},[e._v("edit")]),n("button",{staticClass:"btn",on:{click:function(t){return e.deleteHandler(e.todo._id)}}},[e._v("delete")])])])},$=[],N={name:"TodoItem",props:{todo:{type:Object,required:!0},checkedTodo:{type:Function,required:!0},updatedTodo:{type:Function,required:!0},deleteTodo:{type:Function,required:!0}},inject:["reload"],data:function(){return{isEdit:!1}},methods:{changeHandler:function(e){var t=this;this.checkedTodo(e),setTimeout((function(){t.reload()}),100)},deleteHandler:function(e){var t=this;C.fire({title:"Your task has been deleted.",icon:"success"}),this.deleteTodo(e),setTimeout((function(){t.reload()}),100)},editHandler:function(){var e=this;this.isEdit=!0,this.$nextTick((function(){e.$refs.inputTask.focus()}))},blurHandler:function(e,t){var n=this;if(this.isEdit=!1,!t.target.value.trim())return C.fire({title:"Input need to write something!",icon:"warning"});this.updatedTodo(e._id,t.target.value),setTimeout((function(){n.reload()}),100)}}},S=N,I=(n("7638"),Object(l["a"])(S,L,$,!1,null,"2340e71c",null)),H=I.exports,q={name:"TodoList",components:{TodoItem:H},props:{todos:{type:Array,required:!0},checkedTodo:{type:Function,required:!0},updatedTodo:{type:Function,required:!0},deleteTodo:{type:Function,required:!0}}},D=q,F=(n("50a1"),Object(l["a"])(D,R,P,!1,null,"6fc8b1a1",null)),z=F.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"todo-footer"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isAll,expression:"isAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isAll)?e._i(e.isAll,null)>-1:e.isAll},on:{change:function(t){var n=e.isAll,o=t.target,r=!!o.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);o.checked?i<0&&(e.isAll=n.concat([a])):i>-1&&(e.isAll=n.slice(0,i).concat(n.slice(i+1)))}else e.isAll=r}}})]),n("span",[e._v(" Complete"),n("span",[e._v(e._s(e.totalCompleted))]),e._v(" / All Task "),n("span",[e._v(e._s(e.totalTodos))])]),n("button",{staticClass:"btn",on:{click:e.clearAll}},[e._v("Clear Completed Tasks")])])},B=[],M={name:"TodoFooter",props:{todos:{type:Array,required:!0}},inject:["reload"],computed:{isAll:{get:function(){return this.totalCompleted===this.totalTodos&&this.totalTodos>0},set:function(e){this.$emit("checkAllTodo",e)}},totalCompleted:function(){return this.todos.reduce((function(e,t){return e+(t.isDone?1:0)}),0)},totalTodos:function(){return this.todos.length}},methods:{clearAll:function(){if(0===this.totalCompleted)return C.fire({toast:!1,title:"Warning!!",text:"Please check your task!",icon:"warning",position:"center",timer:2e3});C.fire({title:"Your task has been deleted.",icon:"success"}),this.$emit("clearCompletedTodo")}}},U=M,Y=(n("1a92"),Object(l["a"])(U,J,B,!1,null,"44387f5a",null)),W=Y.exports,G={name:"Home",components:{TodoList:z,TodoHeader:E,TodoFooter:W},inject:["reload"],mounted:function(){var e=this;this.axios.get("https://cryptic-caverns-48253.herokuapp.com/api/todos",{headers:{Authorization:this.getToken}}).then((function(t){e.todos=t.data})).catch((function(e){console.log(e)}))},data:function(){return{getToken:"Bearer "+JSON.parse(localStorage.getItem("token")),todos:[]}},methods:{addTodo:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.axios.post("https://cryptic-caverns-48253.herokuapp.com/api/todos",e,{headers:{Authorization:t.getToken}});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},checkedTodo:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.axios.put("https://cryptic-caverns-48253.herokuapp.com/api/todos/".concat(e._id),{isDone:!e.isDone},{headers:{Authorization:t.getToken}});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},updatedTodo:function(e,t){var n=this;return Object(w["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n.axios.put("https://cryptic-caverns-48253.herokuapp.com/api/todos/".concat(e),{name:t},{headers:{Authorization:n.getToken}});case 3:o.next=8;break;case 5:o.prev=5,o.t0=o["catch"](0),console.log(o.t0);case 8:case"end":return o.stop()}}),o,null,[[0,5]])})))()},deleteTodo:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.axios.delete("https://cryptic-caverns-48253.herokuapp.com/api/todos/".concat(e),{headers:{Authorization:t.getToken}});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},checkAllTodo:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.axios.put("https://cryptic-caverns-48253.herokuapp.com/api/todos",{isDone:e},{headers:{Authorization:t.getToken}});case 3:setTimeout((function(){t.reload()}),100),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},clearCompletedTodo:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.delete("https://cryptic-caverns-48253.herokuapp.com/api/todos",{headers:{Authorization:e.getToken}});case 3:setTimeout((function(){e.reload()}),100),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},logout:function(){localStorage.removeItem("token"),this.$router.push("/login")}}},K=G,Q=(n("e91f"),Object(l["a"])(K,b,k,!1,null,"3605515f",null)),V=Q.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"container"},[n("h2",{staticClass:"title animate__animated animate__backInDown"},[e._v("Login")]),n("form",{staticClass:"animate__animated animate__jackInTheBox",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[n("label",[e._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Enter your username..."},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("label",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Enter your password..."},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{staticClass:"btn btn-login"},[e._v("Login")]),n("router-link",{staticClass:"btn btn-register",attrs:{to:"/register"}},[e._v("Register")])],1)])])},Z=[],ee={name:"Login",data:function(){return{username:"",password:"",isLogin:!1}},methods:{login:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.username.trim()&&e.password.trim()){t.next=2;break}return t.abrupt("return",C.fire({icon:"warning",title:"please enter info in the input."}));case 2:return t.prev=2,e.isLogin=!0,t.next=6,e.axios.post("https://cryptic-caverns-48253.herokuapp.com/api/auth/login",{username:e.username,password:e.password});case 6:n=t.sent,o=n.data.asscessToken,localStorage.setItem("token",JSON.stringify(o)),e.$router.push("/"),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),e.isLogin=!1,console.log(t.t0);case 16:return t.prev=16,e.isLogin=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,12,16,19]])})))()}}},te=ee,ne=(n("93cd"),Object(l["a"])(te,X,Z,!1,null,"081429a2",null)),oe=ne.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[n("div",{staticClass:"container"},[n("h2",{staticClass:"title animate__animated animate__backInDown"},[e._v("Register")]),n("form",{staticClass:"animate__animated animate__jackInTheBox",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[n("label",[e._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"Enter your username..."},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("label",[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Enter your email..."},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("label",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Enter your password..."},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{staticClass:"btn btn-register"},[e._v(" Register ")]),n("router-link",{staticClass:"btn btn-login",attrs:{to:"/login"}},[e._v("Login")])],1)])])},ae=[],ie={name:"Register",data:function(){return{username:"",email:"",password:"",isLogin:!1}},methods:{register:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.username.trim()&&e.email.trim()&&e.password.trim()){t.next=2;break}return t.abrupt("return",C.fire({icon:"warning",title:"please enter info in the input."}));case 2:try{e.isLogin=!0,e.axios.post("https://cryptic-caverns-48253.herokuapp.com/api/auth/register",{username:e.username,email:e.email,password:e.password}),e.$router.push("/login")}catch(n){e.isLogin=!1,console.log(n)}finally{e.isLogin=!1}case 3:case"end":return t.stop()}}),t)})))()}}},se=ie,ce=(n("bd0d"),Object(l["a"])(se,re,ae,!1,null,"2152c6a2",null)),ue=ce.exports;o["a"].use(g["a"]);var le=[{path:"/",name:"Home",component:V},{path:"/login",name:"Login",component:oe},{path:"/register",name:"Register",component:ue},{path:"*",name:"Login",component:oe}],de=new g["a"]({base:"/todolist-vue/",routes:le});de.beforeEach((function(e,t,n){var o=JSON.parse(localStorage.getItem("token"));o?n():"/"===e.path?n({path:"/login"}):n()}));var pe=de,me=n("bc3a"),he=n.n(me),fe=n("2106"),ve=n.n(fe);n("77ed");o["a"].use(ve.a,he.a),o["a"].config.productionTip=!1,new o["a"]({router:pe,render:function(e){return e(v)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"63ab":function(e,t,n){},7638:function(e,t,n){"use strict";n("fc3d")},7924:function(e,t,n){},"93cd":function(e,t,n){"use strict";n("ccfb")},"9c0c":function(e,t,n){},a8ed:function(e,t,n){},bd0d:function(e,t,n){"use strict";n("a8ed")},ccfb:function(e,t,n){},e91f:function(e,t,n){"use strict";n("63ab")},e98b:function(e,t,n){},fc3d:function(e,t,n){}});
//# sourceMappingURL=app.be32346f.js.map